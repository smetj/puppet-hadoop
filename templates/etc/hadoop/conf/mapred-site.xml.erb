<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>

<configuration>
	<property>
		<name>mapred.job.tracker</name>
		<value><%= @mapred_job_tracker %>:8021</value>
	</property>

	<property>
		<name>mapred.hosts.exclude</name>
		<value>/etc/hadoop/conf/mapred.exclude</value>
		<description>Managing MapReducers: hadoop mradmin -refreshNodes</description>
	</property>

	<property>
		<name>mapred.local.dir</name>
		<value><%= mapred_local_dir.flatten.join(',') %></value>
       </property>

	<property>
		<name>mapred.system.dir</name>
		<value><%= @mapred_system_dir %></value>
    </property>

    <property>
		<name>mapred.tasktracker.map.tasks.maximum</name>
		<value><%= @mapred_tasktracker_map_tasks_maximum %></value>
    </property>

    <property>
		<name>mapred.tasktracker.reduce.tasks.maximum</name>
		<value><%= @mapred_tasktracker_reduce_tasks_maximum %></value>
    </property>

	<!-- Enable Hue plugins -->
	<property>
		<name>mapred.jobtracker.plugins</name>
		<value>org.apache.hadoop.thriftfs.ThriftJobTrackerPlugin</value>
		<description>Comma-separated list of jobtracker plug-ins to be activated</description>
	</property>

	<property>
		<name>jobtracker.thrift.address</name>
		<value>0.0.0.0:9290</value>
	</property>

	<property>
		<name>mapred.compress.map.output</name>
		<value>true</value>
	</property>

	<property>
		<name>mapred.map.output.compression.codec</name>
		<value>org.apache.hadoop.io.compress.SnappyCodec</value>
	</property>

	<property>
		<name>mapred.jobtracker.taskScheduler</name>
		<value>org.apache.hadoop.mapred.FairScheduler</value>
	</property>

	<property>
		<name>mapred.fairscheduler.allocation.file</name>
		<value>/etc/hadoop/conf/fair-scheduler-pools.xml</value>
	</property>

</configuration>
