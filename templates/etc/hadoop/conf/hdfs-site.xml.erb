<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>

<configuration>
    <property>
        <name>dfs.replication</name>
        <value><%= @fs_default_name %></value>
        <final>true</final>
    </property>

    <property>
        <name>dfs.permissions</name>
        <value><%= @dfs_permissions %></value>
        <final>true</final>
    </property>

    <property>
        <name>dfs.hosts.exclude</name>
        <value>/etc/hadoop/conf/dfs.exclude</value>
        <description>Managing HDFS nodes: hadoop dfsadmin -refreshNodes</description>
    </property>

    <property>
        <name>dfs.data.dir</name>
        <value><%= dfs_data_dir.flatten.join(',') %></value>
        <final>true</final>
    </property>

    <property>
        <name>dfs.datanode.du.reserved</name>
        <value><%= @dfs_datanode_du_reserved %></value>
        <final>true</final>
    </property>

    <property>
        <name>dfs.datanode.du.pct</name>
        <value><%= @dfs_datanode_du_pct %></value>
        <final>true</final>
    </property>

    <property>
        <name>dfs.name.dir</name>
        <value><%= dfs_name_dir.flatten.join(',') %></value>
        <final>true</final>
    </property>

    <property>
        <name>dfs.datanode.max.xcievers</name>
        <value><%= @dfs_datanode_max_xcievers %></value>
        <final>true</final>
    </property>

    <property>
        <name>dfs.balance.bandwidthPerSec</name>
        <value><%= @dfs_balance_bandwidthPerSec %></value>
        <final>true</final>
    </property>

    <property>
        <name>fs.checkpoint.dir</name>
        <value><%= fs_checkpoint_dir.flatten.join(',') %></value>
        <final>true</final>
    </property>

    <!-- Enable Hue Plugins -->
    <property>
        <name>dfs.namenode.plugins</name>
        <value>org.apache.hadoop.thriftfs.NamenodePlugin</value>
        <description>Comma-separated list of namenode plug-ins to be activated.
        </description>
    </property>

    <property>
        <name>dfs.datanode.plugins</name>
        <value>org.apache.hadoop.thriftfs.DatanodePlugin</value>
        <description>Comma-separated list of datanode plug-ins to be activated.</description>
    </property>

    <property>
        <name>dfs.thrift.address</name>
        <value>0.0.0.0:10090</value>
    </property>

</configuration>
